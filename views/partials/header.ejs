
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
		<meta name="description" content="RSC Development League is an additional league open to all active players in RSC." />
		<meta name="author" content="RSC Development Committee" />
		<title><%= title %></title>
		<link href="/css/styles.css" rel="stylesheet" />
		<script src="https://use.fontawesome.com/releases/v6.4.0/js/all.js" crossorigin="anonymous"></script>
		<script type="text/javascript" src="https://cdn.rawgit.com/jmhobbs/Konami-Unicorn-Blitz/master/konami-unicorn-blitz.min.js"></script>
		<link href="/css/devleague.css" rel="stylesheet" />

		<meta property="og:locale" content="en_US" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="RSC Development League" />
		<meta property="og:description" content="Welcome to the RSC Development League! Matches are open to all active players in RSC and run at 8:15 on match nights." />
		<meta property="og:url" content="https://devleague.rscstream.com/" />
		<meta property="og:site_name" content="RSC Development League" />
		<link rel="icon" type="image/x-icon" href="/images/rscpride-192.png" sizes="192x192" />
		<link rel="apple-touch-icon" href="/images/cropped-rsc-logo-1000-180x180.png" />
		<meta name="msapplication-TileImage" content="/images/rscpride-192.png" />
	</head>
	<body class="sb-nav-fixed">
		<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
			<!-- Navbar Brand-->
			<a class="navbar-brand ps-3" href="/">
				<img src="/images/rscpride-192.png" style="float:left;margin-top:12px;height:42px;" alt="RSC Logo">
				<div>Rocket Soccar</div><div>Confederation</div> 
			</a>
			<!-- Sidebar Toggle-->
			<button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i class="fas fa-bars"></i></button>
			<!-- Navbar Search-->
			<!-- Navbar-->
			<ul class="navbar-nav d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0 sb-sidenav-menu">
				<li class="nav-item dropdown">
					<% if ( discord_id) { %>
					<a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><span><%= nickname %></span></a>
					<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
							<!-- <li><a class="dropdown-item" href="/player/<%= discord_id %>">View Profile</a></li> -->
							<li><a class="dropdown-item" href="/logout">Log Out</a></li>
						<% } else { %>
					<a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><span>Login</span></a>
					<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
						<li><a class="dropdown-item" href="https://discord.com/api/oauth2/authorize?client_id=1006600605265055876&redirect_uri=<%- callbackUrl %>&response_type=token&scope=identify">Login w/ Discord</a></li>
						<% } %>
					</ul>
				</li>
			</ul>
		</nav>
		<div id="layoutSidenav">
			<div id="layoutSidenav_nav">
				<nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
					<div class="sb-sidenav-menu">
						<div class="nav">
							<div class="sb-sidenav-menu-heading">Core</div>
							<a class="nav-link" href="/">
								<div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
								Dashboard
							</a>

							<% if ( rostered ) { %>
								<a class="nav-link" href="/match">
									<div class="sb-nav-link-icon"><i class="fas fa-gamepad"></i></div>
									Match Info
								</a>
							<% } %>

							<% 

							if ( is_admin ) {  /* admin-only functionality */ 
								let badge_class = 'bg-secondary';
								let pending_count = 0;
								if ( pending_trackers ) {
									pending_count = pending_trackers;
									badge_class = 'bg-danger';
								}
								let bad_badge_class = 'bg-secondary';
								let bad_pending_count = 0;
								if ( bad_pending_trackers ) {
									bad_pending_count = bad_pending_trackers;
									bad_badge_class = 'bg-danger';
								}
							%>

							<div class="sb-sidenav-menu-heading">Admin</div>
							<a class="nav-link" href="/process_gameday">
								<div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
								Process Gameday
							</a>
							<a class="nav-link" href="/matches">
								<div class="sb-nav-link-icon"><i class="fas fa-list-ol"></i></div>
								View Matches
							</a>
							<a class="nav-link" href="/manage_league">
								<div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
								Manage League
							</a>
							<div class="sb-sidenav-menu-heading">Trackers</div>
							<a class="nav-link" href="/store_trackers">
								<div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
								Import Trackers
							</a>
							<a class="nav-link" href="/send_tracker_data">
								<div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
								Store Trackers
								<span class="badge ms-2 <%- badge_class %>"><%- pending_count %></span>
							</a>
							<a class="nav-link" href="/send_bad_trackers">
								<div class="sb-nav-link-icon"><i class="fas fa-triangle-exclamation"></i></div>
								Store Bad
								<span class="badge ms-2 <%- bad_badge_class %>"><%- bad_pending_count %></span>
							</a>
							<div class="sb-sidenav-menu-heading">Stats API</div>
							<a class="nav-link" href="#" id="run3sStats">
								<div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
								Update 3s Stats
							</a>
							<a class="nav-link" href="#" id="run2sStats">
								<div class="sb-nav-link-icon"><i class="fas fa-chart-area"></i></div>
								Update 2s Stats
							</a>
							<dialog id="run3sModal">
								<h3>Are you sure you want to run 3s stats? This takes a while.</h3>
								<a href="/pull_stats" class="btn btn-primary">Confirm!</a>
								<a href="/" class="btn btn-warning">Cancel</a>
							</dialog>
							<dialog id="run2sModal">
								<h3>Are you sure you want to run 2s stats? This takes a while.</h3>
								<a href="/pull_stats_2" class="btn btn-primary">Confirm!</a>
								<a href="/" class="btn btn-warning">Cancel</a>
							</dialog>
							<script type="text/javascript">
								document.getElementById('run3sStats').addEventListener('click', (ev) => {
									ev.preventDefault;
									document.getElementById('run3sModal').showModal();
								});
								document.getElementById('run2sStats').addEventListener('click', (ev) => {
									ev.preventDefault;
									document.getElementById('run2sModal').showModal();
								});
							</script>
							<% } %>

						</div>
					</div>
				</nav>
			</div>
			<div id="layoutSidenav_content">

